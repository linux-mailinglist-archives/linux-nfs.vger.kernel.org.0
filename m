Return-Path: <linux-nfs-owner@vger.kernel.org>
X-Original-To: lists+linux-nfs@lfdr.de
Delivered-To: lists+linux-nfs@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id DF0D868C46C
	for <lists+linux-nfs@lfdr.de>; Mon,  6 Feb 2023 18:19:02 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S230128AbjBFRTB (ORCPT <rfc822;lists+linux-nfs@lfdr.de>);
        Mon, 6 Feb 2023 12:19:01 -0500
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:52048 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S230196AbjBFRS7 (ORCPT
        <rfc822;linux-nfs@vger.kernel.org>); Mon, 6 Feb 2023 12:18:59 -0500
Received: from NAM11-DM6-obe.outbound.protection.outlook.com (mail-dm6nam11on2112.outbound.protection.outlook.com [40.107.223.112])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id DAEA42A175
        for <linux-nfs@vger.kernel.org>; Mon,  6 Feb 2023 09:18:51 -0800 (PST)
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=L2k8HCQDV2VSOr1DMKsFxbyYhmzCIc9L9Q8MbHaZrTVsFUAEbSo0e91VnG89udulhuuvqxh9svUgLpV7o/Vz8jsViUop8w4K6FtQ7R1K7dt64MmsPxtVrH0SNfUxHJ/FZOGdJddac8dYlqQxiJuEpxHChQJ01MhDtGKJl0Od/4djyYPg7K9/PXcUP57n3UUnZbaRL+ZFoUAdzuJTu0bKqn66Y1AtXzYU4hnF0OOOuuZxyVHF85A2vLcDxqB9CtPk9ztYE1y0eh9KGgOG+QyP/BlqpjtJE9nt/+t7wj7YFvPkjDdQ8N32VTGW+WEBGEjHfu+NCNCVFkC8+9sqae2vbA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com;
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-AntiSpam-MessageData-ChunkCount:X-MS-Exchange-AntiSpam-MessageData-0:X-MS-Exchange-AntiSpam-MessageData-1;
 bh=bfHucAMLiDlZnnby3URYSoWQ/1EuJ3Yhywi+a5AVkb8=;
 b=a2h3Ty/avGBK5WRfzVkfAmZYn3Qfq7GUx2eNPO1bXPwOdjnprqjVDofwI35GqfSTdWvaqyt2edqeIImKvTPhDmbOU3L0M7ROqN6dovGyDJPofTfYQr7NQX37MNv2ptm6Xp9nQDj+WFA5vqQeMh6Sp+rTgid7bUtKxhAQoG8i55q0jbwZUGO2m6JmM6zWCQxUJLWHotG0i67SzjWo5JLzpeYqCP2HAaXDLh94HWPH9cQukj5IQce0/+pvSyFEv/5utXCZLdinn39ifnc95wDRFB8erk+iZ32PWlMljnm71WiFgkatGZ8N81Kq9Rv4zAMvGm/Nd+adrWvCCUE09MsEQQ==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=boatrocker.com; dmarc=pass action=none
 header.from=boatrocker.com; dkim=pass header.d=boatrocker.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=boatrocker.onmicrosoft.com; s=selector2-boatrocker-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=bfHucAMLiDlZnnby3URYSoWQ/1EuJ3Yhywi+a5AVkb8=;
 b=Jkchpgkph8XEVEYFLxkaUXq6mHeJhZ7L41Su9vj9MJG2uU+LhGTKa2h6tdcK9CJIo4pQXcvVXhXuNSTIryfTxpzXk7RLhIZEvq36ew9zrs63XsN+MhG283QHXy7N2WsvtzchD5dVq0pAPVG/sNBZK0218yE/PRs20aEqlEhvv1M=
Received: from YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM (2603:10b6:c01:69::7)
 by YT2PR01MB8583.CANPRD01.PROD.OUTLOOK.COM (2603:10b6:b01:b6::16) with
 Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.6064.34; Mon, 6 Feb
 2023 17:18:50 +0000
Received: from YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM
 ([fe80::7303:f215:657e:1643]) by YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM
 ([fe80::7303:f215:657e:1643%4]) with mapi id 15.20.6064.034; Mon, 6 Feb 2023
 17:18:50 +0000
From:   Andrew Klaassen <andrew.klaassen@boatrocker.com>
To:     Jeff Layton <jlayton@kernel.org>,
        "linux-nfs@vger.kernel.org" <linux-nfs@vger.kernel.org>
Subject: RE: Trying to reduce NFSv4 timeouts to a few seconds on an
 established connection
Thread-Topic: Trying to reduce NFSv4 timeouts to a few seconds on an
 established connection
Thread-Index: AdkvR33g3mzLGSb7R/abGwkCKolj9QCUyz5AAA3zOxAAIFt1AACi9rVAAAFExoAAAB8OIAABI44AAJGeUGAAwz0wEAAEYlXA
Date:   Mon, 6 Feb 2023 17:18:50 +0000
Message-ID: <YQBPR01MB1072471CD751CDDEE7C0AD5BB86DA9@YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM>
References: <YQBPR01MB10724B629B69F7969AC6BDF9586C89@YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM>
         <YQBPR01MB10724AEE306F99C844101EED086CF9@YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM>
         <YQBPR01MB10724F79460F3C02361279E8686CF9@YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM>
         <654e3b7d15992d191b2b2338483f29aec8b10ee1.camel@kernel.org>
         <YQBPR01MB10724B36E378F493B9DED3C7E86D39@YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM>
         <3c02bd2df703a68093db057c51086bbf767ffeb1.camel@kernel.org>
         <YQBPR01MB1072428BC706EE8C5CC34341186D39@YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM>
 <936efa478e786be19cb9715eba1941ebc4f94a1b.camel@kernel.org>
 <YQBPR01MB107243906854065876378D57B86D69@YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM>
 <YQBPR01MB10724969B61BA7156DB71A82686DA9@YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM>
In-Reply-To: <YQBPR01MB10724969B61BA7156DB71A82686DA9@YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
authentication-results: dkim=none (message not signed)
 header.d=none;dmarc=none action=none header.from=boatrocker.com;
x-ms-publictraffictype: Email
x-ms-traffictypediagnostic: YQBPR01MB10724:EE_|YT2PR01MB8583:EE_
x-ms-office365-filtering-correlation-id: 25068933-034c-4244-5def-08db086636ba
x-forefront-antispam-report: CIP:255.255.255.255;CTRY:;LANG:en;SCL:1;SRV:;IPV:NLI;SFV:NSPM;H:YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM;PTR:;CAT:NONE;SFS:(13230025)(376002)(366004)(39850400004)(396003)(346002)(136003)(451199018)(26005)(478600001)(38070700005)(38100700002)(122000001)(33656002)(186003)(6506007)(2940100002)(55236004)(9686003)(110136005)(76116006)(83380400001)(66946007)(66556008)(66476007)(64756008)(8676002)(7696005)(86362001)(316002)(2906002)(44832011)(71200400001)(66446008)(8936002)(52536014)(5660300002)(41300700001)(55016003);DIR:OUT;SFP:1102;
x-ms-exchange-senderadcheck: 1
x-ms-exchange-antispam-relay: 0
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: StnBnLy8TVQVXsDAt5KH6G7y6XyE8WdCbCxo3lEZqs0CSv+hYq8YJ2+1KS4m6IRcAC8wyDIZwmNKY7Chtc/ATKRRlwM8OigdgpJPLWzmnMbqpEizgiIjGbVpbzezc3mXD2gR2rxvhLkrOop9aT0S+0f5VPYXHDOAPZd4X+0dqvLG0V78hSxM385x6/JA+NkzMlqONdjCGhQFEyG/g/ThCgRGhfzX1ytXpS7gj4slhypyBxa7LzpGQIJgiGoXPSK3xlbVBwOv8nXzkcGAEKz/LuJjjlrCt1d6+UFrFIKRcmXmX5hpY0j33KhAoNRVeydKfeK0qLs1QVIKsDm+tq6zIw6eh3GEtAhgUwyq+Yx+1eafZxCPkpQgH8aj94jXxyxu3NDLeuStCBzS6WVLYGMLIMU2crhN/UuLRfrgzzUddlDe2EOa77Kg7vumpTRt7fOM8qjHQSZd0g6hxQ5mWExecYZ+VlgOvXefO9k/1yzjeTjwEXYIiBPY1s/7XeZOheUUYGDUIXMsokNxkVJWofaW7pLlkvD72ALYOS2jcyAw3W0e9xQIFu6Rp900keJ2FN6EarMB9l05QPwBT3IFBvR1BkLL1YZ+PI0yzmWW+rbZbdpQD5Tzg9IHqVqF+3jpOyA0pbU7NDq0ijc/4zH+EVGrjlTBna6Zb8tbJZt3jKESR13gWJ4OARwgqXRGmaX0Zfd/sGAqfMN+vg7PTSZujhs6cw==
x-ms-exchange-antispam-messagedata-chunkcount: 1
x-ms-exchange-antispam-messagedata-0: =?utf-8?B?cmpzQ0xSUmdOTGRTemJFc1NFMkRKVGZnVTJGSFo5OVFpNW9ndHNITFVXWDIy?=
 =?utf-8?B?a2xtZlV0bW9SK3Z2RWRWSTBqZ2xhejJhNUV1S0dYc0gyMUhEeU9hNXZNSXl6?=
 =?utf-8?B?bk94cWlQb1Q0V1hORSt6WFQzREZEbmEvd2hhRjRwTDhkU3NIVWJDb2FQN1N0?=
 =?utf-8?B?SWtOS3g2WXR6bEJZVDE0ajNaLzR5amtkUHBTcFlZTGt1Z3dzTmJiaytiN0dF?=
 =?utf-8?B?eVJvRHQ5WW9zSkFzRUtUQVRJekZXNHUrS1FKYWpVS1A0QW5kSGNoNWRmMi9H?=
 =?utf-8?B?SjNGWlFWZE83bCtIM2hMSXFrSFhHUmZrOUtnWWxCbHppU0FSNXMzM2N2SXZx?=
 =?utf-8?B?bVVJQ1Q5MGV4d2lDdFlsRW1qbTBONmI0V3pQeWVJcFpNL2UwOXlQQzVPanQ0?=
 =?utf-8?B?cHlycGUwcFIvaGVWUDQ0YjZtd2xxbXZaNlVsZ09SNHJsS0d5enBCNHFoUC9N?=
 =?utf-8?B?MUpFVTB6Qk8ranNMdDBLOGk4b0lGYmNmengyZksxSWQrd3pOVjRGdm9yZzdQ?=
 =?utf-8?B?S29wdDdPWEp1YkRIZW5ObGJ4aEc3K1hKU0M1V0VwZXc1WFhmUCsxTEVyMlRN?=
 =?utf-8?B?UFUrcEFsZzFkclllOWhwL1lHc0Q2ejRiQVg4TVZqcnZjaloxczdMTkZMOU5L?=
 =?utf-8?B?NmcyUGJqeWNxenlXOU9lc2kraG9VTzRheG9GSUNxQU5OWXlxV2FiMGNXNHpq?=
 =?utf-8?B?V1l6emdJSHkybHM0bWtIZDI4R1dScTZ1ZUNDVGczZ2Rab1V1UEJCMVNQK3F4?=
 =?utf-8?B?VlQvNWw5N0xIeUh6NTNVS012NWg0Tk5HTVBPdWorV3V1TFdockg3WjBNVm94?=
 =?utf-8?B?cmNqczNDaGgxWlNUOTJsWWRMR3RtczVCWFRScEFSSUNMc2RwWEYzS3MzZDR5?=
 =?utf-8?B?K0xIWEVvQ0hGMjdYZ3BFSnZMRENVbDYweGZrSy9LV2JHZXhrajRsUjVYcFk4?=
 =?utf-8?B?SldUY0RnR25JZjdaUzh4RU1DSFh0Y1BkcEtnUHRYZFZ5U0hLZ1dxT20vV25v?=
 =?utf-8?B?SFB0RnQvTTBjRkE3cW5NeGFUanhSSTY4OWx2cml1V0t0dnNubklKQnNRM3dM?=
 =?utf-8?B?a3VhS05DOGJtMUs4NnNqa1BXMGk4Vm5SYVV2d3E1NnhUdmtpK1ZrOWZtQjRn?=
 =?utf-8?B?WGlaakRoaVNrdGRHUUd1d29aMWcwZkw4YzEvYi9yU0lnSmowd2VFakhkdW84?=
 =?utf-8?B?Z1FpNE9aTmpiZDhmRTAzNkE5RG9aYXozTGxwUDFGejdhdzluZFVBdFRrTkZK?=
 =?utf-8?B?RVJFUFZMTDVEOHMzRUJpUCtYU29yUHNVdzRWRE5QekQyMUVaL0x1YndvVkQy?=
 =?utf-8?B?NHdKS2t3d2I0cXBJUXVXZGdTYlVtd0paajhvbjAwK2VCUmIxUEhsQmxMVW9p?=
 =?utf-8?B?Q1Q2UldrTjJQTnNBL3NwZ0lROVpiSmU0ZHdMMk9kMkJVc2JVbC9RVWlPOSs4?=
 =?utf-8?B?cnpmWmduc1VLdnNDZEdKMGdSM2U3VitwMnNhTWF2aDdLbW82UmtUblE0cXVN?=
 =?utf-8?B?V0R0aUFLSi9UdFEvV2ZwdzFVbE9SRGl2dC9mNnUvcHlMdEZoSHZIZEw4emI1?=
 =?utf-8?B?WjVGUlkxQlk1MG9YTGNMaTZNdHRRUXVCUXVWTnBnUmlaQkJUOXhjUlBIV0NX?=
 =?utf-8?B?M3hoVFNlNW1nTGZpZTNzdEx3ZFpRUmdZSjdybzF5NG1uS2txSC9JUFROR2ph?=
 =?utf-8?B?cmd2cUpFWWpwZWRWOUU4SWRrVUtHUVhPU1ZyQkJ6dFFpWTBKRUZnVzFMN3JV?=
 =?utf-8?B?aC95RjI1OGNGK1Zsa0ZMcEpkUzJ6L1pMcGI0MStmUEZhanBGQzJIQ2thbzY2?=
 =?utf-8?B?MGNsS1BCUUNCOGdld3puaWJ0OW5uMDhSNitJd3FBQzFJdWlOS0JudGU1eGdQ?=
 =?utf-8?B?a3hzQjVGQlllZENRbTI3RytBVVZEUFAveWV0US95UFdhWm81THZKcjVtWnc5?=
 =?utf-8?B?am96WUVJbUpVNXRPSEpmS201N1IxS1JQMEZPUVFNTGlxQXJJSzZSdXN3M3Ni?=
 =?utf-8?B?WE45ZEg0SjBNLzhRSDRadVp5a0FvWHpFUEdhanF6WXJidUw5andBQUNxVURH?=
 =?utf-8?B?RHJpeCtXV2hRN1hSdkcyRC9XYUxISTRXVmcxQ01ma0NyWHoydTBDeXgzejhX?=
 =?utf-8?B?SndZUWlBSTRaWTAvNjBkUHVOUWtWbTd2UWh0NG9CYjNrT1dpM0NWL093Y1NE?=
 =?utf-8?B?WEE9PQ==?=
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: boatrocker.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: YQBPR01MB10724.CANPRD01.PROD.OUTLOOK.COM
X-MS-Exchange-CrossTenant-Network-Message-Id: 25068933-034c-4244-5def-08db086636ba
X-MS-Exchange-CrossTenant-originalarrivaltime: 06 Feb 2023 17:18:50.0770
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: fd92a966-cd05-4664-965e-b69e7529781a
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: LMQTyZcif7nnRH6QJBmybAx45H+yqCmu9ZDdTH80QR+TF34pTUHcvuW8DdHhdaIB+xuC04qbabzZN5ZwDDjfHUNxkc/vcHbIkODgeNhV9SY=
X-MS-Exchange-Transport-CrossTenantHeadersStamped: YT2PR01MB8583
X-Spam-Status: No, score=-0.9 required=5.0 tests=BAYES_00,DKIM_SIGNED,
        DKIM_VALID,FORGED_SPF_HELO,RCVD_IN_DNSWL_NONE,RCVD_IN_MSPIKE_H2,
        SPF_HELO_PASS,SPF_NONE autolearn=no autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-nfs.vger.kernel.org>
X-Mailing-List: linux-nfs@vger.kernel.org

PiBGcm9tOiBBbmRyZXcgS2xhYXNzZW4gPGFuZHJldy5rbGFhc3NlbkBib2F0cm9ja2VyLmNvbT4N
Cj4gU2VudDogTW9uZGF5LCBGZWJydWFyeSA2LCAyMDIzIDEwOjI4IEFNDQo+IA0KDQo+IFtzbmlw
cGluZyBmb3IgcmVhZGFiaWxpdHk7IGhvcGUgdGhhdCdzIG9rYXldDQo+IA0KPiAgLSBJJ20gYWxs
b2NhdGluZyBtZW1vcnkuICBJIGFzc3VtZSB0aGF0IG1lYW5zIEkgc2hvdWxkIGZyZWUgaXQgc29t
ZXdoZXJlLg0KPiBCdXQgd2hlcmU/ICBJbiB4cHJ0X2Rlc3Ryb3koKSwgd2hpY2ggYXBwZWFycyB0
byBkbyBjbGVhbnVwPyAgT3IgaW4NCj4geHBydF9kZXN0cm95X2NiKCksIHdoaWNoIGlzIGNhbGxl
ZCBmcm9tIHhwcnRfZGVzdHJveSgpIGFuZCB3aGljaCBmcmVlcyB4cHJ0LQ0KPiA+c2VydmVybmFt
ZT8gIE9yIHNvbWV3aGVyZSBlbHNlIGNvbXBsZXRlbHk/DQo+ICAtIElmIEkgZnJlZSB0aGUgYWxs
b2NhdGVkIG1lbW9yeSwgd2lsbCB0aGF0IGNhdXNlIGFueSBwcm9ibGVtcyBpbiB0aGUgY2FzZXMN
Cj4gd2hlcmUgbm8gdGltZW91dCBpcyBwYXNzZWQgaW4gdmlhIHRoZSBhcmdzIGFuZCB0aGUgc3Rh
dGljIGNvbnN0IHN0cnVjdA0KPiB4c190Y3BfZGVmYXVsdF90aW1lb3V0IGlzIGFzc2lnbmVkIHRv
IHhwcnQtPnRpbWVvdXQ/DQo+ICAtIElmIGZyZWVpbmcgdGhlIHN0YXRpYyBjb25zdCBzdHJ1Y3Qg
ZGVmYXVsdCB3aWxsIGNhdXNlIGEgcHJvYmxlbSwgd2hhdCBzaG91bGQgSQ0KPiBkbyBpbnN0ZWFk
PyAgQWxsb2NhdGUgYW5kIG1lbWNweSBldmVuIHdoZW4gYXNzaWduaW5nIHRoZSBkZWZhdWx0PyAg
QW5kDQo+IHdvdWxkIHRoYXQgbWVhbiBkb2luZyB0aGUgc2FtZSB0aGluZyBmb3IgYWxsIHRoZSBv
dGhlciB0cmFuc3BvcnRzIHRoYXQgYXJlDQo+IHNldHRpbmcgdGltZW91dHMgKGxvY2FsLCB1ZHAs
IHRjcCwgYW5kIGJjX3RjcCk/DQoNCkhlcmUncyBteSBiZXN0IGd1ZXNzIGFzIHRoZSBhbnN3ZXIg
dG8gbXkgcXVlc3Rpb25zLiAgQW55IGFkdmljZS9mZWVkYmFjayBhcHByZWNpYXRlZC4NCg0KZGlm
ZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvc3VucnBjL3hwcnQuaCBiL2luY2x1ZGUvbGludXgvc3Vu
cnBjL3hwcnQuaA0KaW5kZXggYjlmNTlhYWJlZTUzLi40NTQzZWMwN2NjMTIgMTAwNjQ0DQotLS0g
YS9pbmNsdWRlL2xpbnV4L3N1bnJwYy94cHJ0LmgNCisrKyBiL2luY2x1ZGUvbGludXgvc3VucnBj
L3hwcnQuaA0KQEAgLTMzMyw2ICszMzMsNyBAQCBzdHJ1Y3QgeHBydF9jcmVhdGUgew0KICAgICAg
ICBzdHJ1Y3Qgc3ZjX3hwcnQgICAgICAgICAqYmNfeHBydDsgICAgICAgLyogTkZTdjQuMSBiYWNr
Y2hhbm5lbCAqLw0KICAgICAgICBzdHJ1Y3QgcnBjX3hwcnRfc3dpdGNoICAqYmNfeHBzOw0KICAg
ICAgICB1bnNpZ25lZCBpbnQgICAgICAgICAgICBmbGFnczsNCisgICAgICAgY29uc3Qgc3RydWN0
IHJwY190aW1lb3V0ICp0aW1lb3V0OyAgICAgIC8qIHRpbWVvdXQgcGFybXMgKi8NCiB9Ow0KDQog
c3RydWN0IHhwcnRfY2xhc3Mgew0KQEAgLTM3Myw2ICszNzQsOCBAQCB2b2lkICAgICAgICAgICAg
ICAgICAgICAgICAgeHBydF9yZWxlYXNlX3hwcnRfY29uZyhzdHJ1Y3QgcnBjX3hwcnQgKnhwcnQs
IHN0cnVjdCBycGNfdGFzayAqdGFzayk7DQogdm9pZCAgICAgICAgICAgICAgICAgICB4cHJ0X3Jl
bGVhc2Uoc3RydWN0IHJwY190YXNrICp0YXNrKTsNCiBzdHJ1Y3QgcnBjX3hwcnQgKiAgICAgIHhw
cnRfZ2V0KHN0cnVjdCBycGNfeHBydCAqeHBydCk7DQogdm9pZCAgICAgICAgICAgICAgICAgICB4
cHJ0X3B1dChzdHJ1Y3QgcnBjX3hwcnQgKnhwcnQpOw0KK3N0cnVjdCBycGNfdGltZW91dCAqICAg
eHBydF9hbGxvY190aW1lb3V0KGNvbnN0IHN0cnVjdCBycGNfdGltZW91dCAqIHRpbWVvLA0KKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHJ1Y3QgcnBjX3RpbWVvdXQgKmRl
ZmF1bHRfdGltZW8pOw0KIHN0cnVjdCBycGNfeHBydCAqICAgICAgeHBydF9hbGxvYyhzdHJ1Y3Qg
bmV0ICpuZXQsIHNpemVfdCBzaXplLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1
bnNpZ25lZCBpbnQgbnVtX3ByZWFsbG9jLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB1bnNpZ25lZCBpbnQgbWF4X3JlcSk7DQpkaWZmIC0tZ2l0IGEvbmV0L3N1bnJwYy9jbG50LmMg
Yi9uZXQvc3VucnBjL2NsbnQuYw0KaW5kZXggMGIwYjlmMWVlZDQ2Li4xMzUwYzFmNDg5ZjcgMTAw
NjQ0DQotLS0gYS9uZXQvc3VucnBjL2NsbnQuYw0KKysrIGIvbmV0L3N1bnJwYy9jbG50LmMNCkBA
IC01MzIsNiArNTMyLDcgQEAgc3RydWN0IHJwY19jbG50ICpycGNfY3JlYXRlKHN0cnVjdCBycGNf
Y3JlYXRlX2FyZ3MgKmFyZ3MpDQogICAgICAgICAgICAgICAgLmFkZHJsZW4gPSBhcmdzLT5hZGRy
c2l6ZSwNCiAgICAgICAgICAgICAgICAuc2VydmVybmFtZSA9IGFyZ3MtPnNlcnZlcm5hbWUsDQog
ICAgICAgICAgICAgICAgLmJjX3hwcnQgPSBhcmdzLT5iY194cHJ0LA0KKyAgICAgICAgICAgICAg
IC50aW1lb3V0ID0gYXJncy0+dGltZW91dCwNCiAgICAgICAgfTsNCiAgICAgICAgY2hhciBzZXJ2
ZXJuYW1lWzQ4XTsNCiAgICAgICAgc3RydWN0IHJwY19jbG50ICpjbG50Ow0KZGlmZiAtLWdpdCBh
L25ldC9zdW5ycGMveHBydC5jIGIvbmV0L3N1bnJwYy94cHJ0LmMNCmluZGV4IGFiNDUzZWRlNTRm
MC4uMTA2NWI3NmRkZmY0IDEwMDY0NA0KLS0tIGEvbmV0L3N1bnJwYy94cHJ0LmMNCisrKyBiL25l
dC9zdW5ycGMveHBydC5jDQpAQCAtMTgwMSw2ICsxODAxLDI2IEBAIHN0YXRpYyB2b2lkIHhwcnRf
ZnJlZV9pZChzdHJ1Y3QgcnBjX3hwcnQgKnhwcnQpDQogICAgICAgIGlkYV9mcmVlKCZycGNfeHBy
dF9pZHMsIHhwcnQtPmlkKTsNCiB9DQoNCitzdHJ1Y3QgcnBjX3RpbWVvdXQgKnhwcnRfYWxsb2Nf
dGltZW91dChjb25zdCBzdHJ1Y3QgcnBjX3RpbWVvdXQgKnRpbWVvLA0KKyAgICAgICAgICAgICAg
IGNvbnN0IHN0cnVjdCBycGNfdGltZW91dCAqZGVmYXVsdF90aW1lbykNCit7DQorICAgICAgIHN0
cnVjdCBycGNfdGltZW91dCAqdGltZW91dDsNCisgICAgICAgdGltZW91dCA9IGt6YWxsb2Moc2l6
ZW9mKHN0cnVjdCBycGNfdGltZW91dCksIEdGUF9LRVJORUwpOw0KKyAgICAgICBpZiAodGltZW91
dCA9PSBOVUxMKQ0KKyAgICAgICAgICAgICAgIHJldHVybiBFUlJfUFRSKC1FTk9NRU0pOw0KKyAg
ICAgICBpZiAodGltZW8pDQorICAgICAgICAgICAgICAgbWVtY3B5KHRpbWVvdXQsIHRpbWVvLCBz
aXplb2Yoc3RydWN0IHJwY190aW1lb3V0KSk7DQorICAgICAgIGVsc2UNCisgICAgICAgICAgICAg
ICBtZW1jcHkodGltZW91dCwgZGVmYXVsdF90aW1lbywgc2l6ZW9mKHN0cnVjdCBycGNfdGltZW91
dCkpOw0KKyAgICAgICByZXR1cm4gdGltZW91dDsNCit9DQorDQorc3RhdGljIHZvaWQgeHBydF9m
cmVlX3RpbWVvdXQoc3RydWN0IHJwY194cHJ0ICp4cHJ0KQ0KK3sNCisgICAgICAgaWYgKHhwcnQt
PnRpbWVvdXQgIT0gTlVMTCkNCisgICAgICAgICAgICAgICBrZnJlZSh4cHJ0LT50aW1lb3V0KTsN
Cit9DQorDQogc3RydWN0IHJwY194cHJ0ICp4cHJ0X2FsbG9jKHN0cnVjdCBuZXQgKm5ldCwgc2l6
ZV90IHNpemUsDQogICAgICAgICAgICAgICAgdW5zaWduZWQgaW50IG51bV9wcmVhbGxvYywNCiAg
ICAgICAgICAgICAgICB1bnNpZ25lZCBpbnQgbWF4X2FsbG9jKQ0KQEAgLTE4MzcsNiArMTg1Nyw3
IEBAIEVYUE9SVF9TWU1CT0xfR1BMKHhwcnRfYWxsb2MpOw0KDQogdm9pZCB4cHJ0X2ZyZWUoc3Ry
dWN0IHJwY194cHJ0ICp4cHJ0KQ0KIHsNCisgICAgICAgeHBydF9mcmVlX3RpbWVvdXQoeHBydCk7
DQogICAgICAgIHB1dF9uZXRfdHJhY2soeHBydC0+eHBydF9uZXQsICZ4cHJ0LT5uc190cmFja2Vy
KTsNCiAgICAgICAgeHBydF9mcmVlX2FsbF9zbG90cyh4cHJ0KTsNCiAgICAgICAgeHBydF9mcmVl
X2lkKHhwcnQpOw0KZGlmZiAtLWdpdCBhL25ldC9zdW5ycGMveHBydHNvY2suYyBiL25ldC9zdW5y
cGMveHBydHNvY2suYw0KaW5kZXggYWFhNWIyNzQxYjc5Li5iYTA1MjU4NTA5ZmEgMTAwNjQ0DQot
LS0gYS9uZXQvc3VucnBjL3hwcnRzb2NrLmMNCisrKyBiL25ldC9zdW5ycGMveHBydHNvY2suYw0K
QEAgLTMwMDMsNyArMzAwMywxMSBAQCBzdGF0aWMgc3RydWN0IHJwY194cHJ0ICp4c19zZXR1cF90
Y3Aoc3RydWN0IHhwcnRfY3JlYXRlICphcmdzKQ0KICAgICAgICB4cHJ0LT5pZGxlX3RpbWVvdXQg
PSBYU19JRExFX0RJU0NfVE87DQoNCiAgICAgICAgeHBydC0+b3BzID0gJnhzX3RjcF9vcHM7DQot
ICAgICAgIHhwcnQtPnRpbWVvdXQgPSAmeHNfdGNwX2RlZmF1bHRfdGltZW91dDsNCisNCisgICAg
ICAgeHBydC0+dGltZW91dCA9IHhwcnRfYWxsb2NfdGltZW91dChhcmdzLT50aW1lb3V0LCAmeHNf
dGNwX2RlZmF1bHRfdGltZW91dCk7DQorDQorICAgICAgIGlmIChJU19FUlIoeHBydC0+dGltZW91
dCkpDQorICAgICAgICAgICAgICAgZ290byBvdXRfZXJyOw0KDQogICAgICAgIHhwcnQtPm1heF9y
ZWNvbm5lY3RfdGltZW91dCA9IHhwcnQtPnRpbWVvdXQtPnRvX21heHZhbDsNCiAgICAgICAgeHBy
dC0+Y29ubmVjdF90aW1lb3V0ID0geHBydC0+dGltZW91dC0+dG9faW5pdHZhbCAqDQo=
