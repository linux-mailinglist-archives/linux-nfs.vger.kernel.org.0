Return-Path: <linux-nfs+bounces-13194-lists+linux-nfs=lfdr.de@vger.kernel.org>
X-Original-To: lists+linux-nfs@lfdr.de
Delivered-To: lists+linux-nfs@lfdr.de
Received: from sy.mirrors.kernel.org (sy.mirrors.kernel.org [IPv6:2604:1380:40f1:3f00::1])
	by mail.lfdr.de (Postfix) with ESMTPS id C3F55B0E454
	for <lists+linux-nfs@lfdr.de>; Tue, 22 Jul 2025 21:40:19 +0200 (CEST)
Received: from smtp.subspace.kernel.org (relay.kernel.org [52.25.139.140])
	(using TLSv1.2 with cipher ECDHE-ECDSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by sy.mirrors.kernel.org (Postfix) with ESMTPS id AC9827A8D5F
	for <lists+linux-nfs@lfdr.de>; Tue, 22 Jul 2025 19:38:50 +0000 (UTC)
Received: from localhost.localdomain (localhost.localdomain [127.0.0.1])
	by smtp.subspace.kernel.org (Postfix) with ESMTP id 4E18E2853E7;
	Tue, 22 Jul 2025 19:40:08 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org;
	dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b="fuppnTyd"
X-Original-To: linux-nfs@vger.kernel.org
Received: from smtp.kernel.org (aws-us-west-2-korg-mail-1.web.codeaurora.org [10.30.226.201])
	(using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
	(No client certificate requested)
	by smtp.subspace.kernel.org (Postfix) with ESMTPS id 232AB2853E3
	for <linux-nfs@vger.kernel.org>; Tue, 22 Jul 2025 19:40:07 +0000 (UTC)
Authentication-Results: smtp.subspace.kernel.org; arc=none smtp.client-ip=10.30.226.201
ARC-Seal:i=1; a=rsa-sha256; d=subspace.kernel.org; s=arc-20240116;
	t=1753213208; cv=none; b=qQIls3d8kXxF68nJmN5tw3sbOxArU2esUoq8mA3NL0Pz0uTjRsLmPSFxLT3hN6DYzs0/AMhEa+MxNIghD9VHo4HNehbKal9T9LBcpYFQLmuTrUOLUODVpNIjJWNALvqMMGBH6g9dUieTZmXvfAxFuPPaoIe7cZXU1XTEaVAGANI=
ARC-Message-Signature:i=1; a=rsa-sha256; d=subspace.kernel.org;
	s=arc-20240116; t=1753213208; c=relaxed/simple;
	bh=Pr1eRKRIbg6A4+vwXd92JWlchRhLLDbUIJs1V7ePYOU=;
	h=Message-ID:Subject:From:To:Cc:Date:In-Reply-To:References:
	 Content-Type:MIME-Version; b=PvBR9uAW6/jWYwsAPCXNl109r7P77Ou4uheB54YBRPv36XTU3JPX5IBVA7mxp4dqA1pL5pK+YmH6mq3hCXDqoPcJrYsXxLIJREXxylDUhi756yGjzw+UWh7jEPzUoSXm/70vkuQ4vRWQO/n1lXozVC+dcvws0p+VkEnwuoH9Is8=
ARC-Authentication-Results:i=1; smtp.subspace.kernel.org; dkim=pass (2048-bit key) header.d=kernel.org header.i=@kernel.org header.b=fuppnTyd; arc=none smtp.client-ip=10.30.226.201
Received: by smtp.kernel.org (Postfix) with ESMTPSA id 7019BC4CEEB;
	Tue, 22 Jul 2025 19:40:07 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
	s=k20201202; t=1753213207;
	bh=Pr1eRKRIbg6A4+vwXd92JWlchRhLLDbUIJs1V7ePYOU=;
	h=Subject:From:To:Cc:Date:In-Reply-To:References:From;
	b=fuppnTydFu5eMmR/2lV/xHkLCZ4xDJc6qfybrys3bkJaYQCe2KFtaG6WVRX9DSrI8
	 pAK7MPrzUxP7QNFajM7GBSXK9L1ZD02ZPxhVyjHl1NALxRMT8f13BriDGduldZryok
	 6Pl773/iWO2VewRe4iX5i6rlxsjBwHknTcF2By3EJCmrJOk8A5zVTK78rDOnkIYsoo
	 sMego+sgKS5FL8FkKwVG39JRmgbq1mi0tC9FGwRwddyMw7ajjXqSO2gBWY9AdlrwbO
	 5FjCDMd5xs4uVb2daJRHlI6uaIpd7qbL7QPknAWpCL0dsSw3ttB6hIIjYuwGlMIpLy
	 msH+RFvVvVhTQ==
Message-ID: <60b1e1be9ce67496e8774ccb64e9ff637ab2a75d.camel@kernel.org>
Subject: Re: nfs client and io_uring zero copy receive
From: Trond Myklebust <trondmy@kernel.org>
To: Anton Gavriliuk <antosha20xx@gmail.com>
Cc: linux-nfs@vger.kernel.org
Date: Tue, 22 Jul 2025 15:40:06 -0400
In-Reply-To: <CAAiJnjrmeZUexNkJJmvuUDKvTqvuQhahWY2uFhOgBOmoLrLbLw@mail.gmail.com>
References: 
	<CAAiJnjqvKAE_dUiCTr8D5UShNK5fxJuUHpP=nDFadF-OYhYbfw@mail.gmail.com>
	 <76c35f2fc9386f3e77defe87375c4ad110618aaf.camel@kernel.org>
	 <CAAiJnjrmeZUexNkJJmvuUDKvTqvuQhahWY2uFhOgBOmoLrLbLw@mail.gmail.com>
Content-Type: text/plain; charset="UTF-8"
Content-Transfer-Encoding: base64
User-Agent: Evolution 3.56.2 (3.56.2-1.fc42) 
Precedence: bulk
X-Mailing-List: linux-nfs@vger.kernel.org
List-Id: <linux-nfs.vger.kernel.org>
List-Subscribe: <mailto:linux-nfs+subscribe@vger.kernel.org>
List-Unsubscribe: <mailto:linux-nfs+unsubscribe@vger.kernel.org>
MIME-Version: 1.0

T24gVHVlLCAyMDI1LTA3LTIyIGF0IDIyOjAxICswMzAwLCBBbnRvbiBHYXZyaWxpdWsgd3JvdGU6
Cj4gPiBUaGUgb25seSB3YXkgeW91IGNhbiBhdm9pZCBtZW1vcnkgY29waWVzIGhlcmUgaXMgdG8g
dXNlIFJETUEgdG8KPiA+IGFsbG93Cj4gPiB0aGUgc2VydmVyIHRvIHdyaXRlIGl0cyByZXBsaWVz
IGRpcmVjdGx5IGludG8gdGhlIGNvcnJlY3QgY2xpZW50Cj4gPiByZWFkCj4gPiBidWZmZXJzLgo+
IAo+IEkgcmVtb3VudGVkIHdpdGggcmRtYQo+IAo+IFtyb290QDIzLTEyNy03Ny02IH5dIyBtb3Vu
dCAtdCBuZnMgLW8KPiBwcm90bz1yZG1hLG5jb25uZWN0PTE2LHJzaXplPTQxOTQzMDQsd3NpemU9
NDE5NDMwNCAxOTIuMTY4LjAuNzovbW50Cj4gL21udAo+IFtyb290QDIzLTEyNy03Ny02IH5dIyBt
b3VudCAtdnxncmVwIC1pIHJkbWEKPiAxOTIuMTY4LjAuNzovbW50IG9uIC9tbnQgdHlwZSBuZnM0
Cj4gKHJ3LHJlbGF0aW1lLHZlcnM9NC4yLHJzaXplPTEwNDg1NzYsd3NpemU9MTA0ODU3NixuYW1s
ZW49MjU1LGhhcmQsZmF0Cj4gYWxfbmV0ZXJyb3JzPW5vbmUscHJvdG89cmRtYSxuY29ubmVjdD0x
Nixwb3J0PTIwMDQ5LHRpbWVvPTYwMCxyZXRyYW5zCj4gPTIsc2VjPXN5cyxjbGllbnRhZGRyPTE5
Mi4xNjguMC44LGxvY2FsX2xvY2s9bm9uZSxhZGRyPTE5Mi4xNjguMC43KQo+IFtyb290QDIzLTEy
Ny03Ny02IH5dIwo+IAo+IGFuZCByZXBlYXQgc2VxdWVudGlhbCByZWFkLgo+IAo+IEFjY29yZGlu
ZyB0byBwZXJmIHRvcCwgbWVtY3B5IGlzIGdvbmUsCj4gCj4gU2FtcGxlczogNjRLIG9mIGV2ZW50
ICdjeWNsZXM6UCcsIDQwMDAgSHosIEV2ZW50IGNvdW50IChhcHByb3guKToKPiAyMjUxMDIxNzYz
MyBsb3N0OiAwLzAgZHJvcDogMC8wCj4gT3ZlcmhlYWTCoCBTaGFyZWQgT2JqZWN0wqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIFN5bWJvbAo+IMKgIDEzLDEyJcKgIFtu
ZnNdwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoCBba10gbmZzX2dlbmVyaWNfcGdfdGVzdAo+IMKgIDExLDMyJcKgIFtuZnNdwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBba10gbmZz
X3BhZ2VfZ3JvdXBfbG9jawo+IMKgIDEwLDQyJcKgIFtuZnNdwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBba10gbmZzX2NsZWFyX3JlcXVl
c3QKPiDCoMKgIDUsNDElwqAgW2tlcm5lbF3CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgIFtrXSBndXBfZmFzdF9wdGVfcmFuZ2UKPiDCoMKgIDQsMTEl
wqAgW25mc13CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgIFtrXQo+IG5mc19wYWdlX2dyb3VwX3N5bmNfb25fYml0Cj4gwqDCoCAzLDM2JcKg
IFtuZnNdwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoCBba10gbmZzX3BhZ2VfY3JlYXRlCj4gwqDCoCAzLDEzJcKgIFtuZnNdwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBba10KPiBf
X25mc19wYWdlaW9fYWRkX3JlcXVlc3QKPiDCoMKgIDIsMTAlwqAgW25mc13CoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIFtrXQo+IF9fbmZz
X2ZpbmRfbG9ja19jb250ZXh0Cj4gCj4gYnV0IGl0IGRpZG4ndCBpbXByb3ZlIHJlYWQgYmFuZHdp
ZHRoIGF0IGFsbC7CoCBFdmVuIHNsaWdodGx5IHdvcnNlCj4gY29tcGFyZWQgdG8gcHJvdG89dGNw
LgoKU28gdGhhdCBtb3JlIG9yIGxlc3MgcHJvdmVzIHRoYXQgdGhvc2UgbWVtY3B5cyB3ZXJlIG5l
dmVyIHRoZSByb290CmNhdXNlIG9mIHlvdXIgcGVyZm9ybWFuY2UgcHJvYmxlbS4KCkkgc3VzcGVj
dCB5b3UnbGwgd2FudCB0byBsb29rIGF0IHRoZSBzZXJ2ZXIgcGVyZm9ybWFuY2UuIE1heWJlIGFs
c28KbG9vayBhdCB0aGUgY2xpZW50IHR1bmFibGVzIHRoYXQgbGltaXQgY29uY3VycmVuY3ksIHN1
Y2ggYXMgdGhlCnN1bnJwYy5yZG1hX3Nsb3RfdGFibGVfZW50cmllcyBzeXNjdGwsIG9yIHRoZSBu
ZnMubWF4X3Nlc3Npb25fc2xvdHMKbW9kdWxlIHBhcmFtZXRlciwgZXRjLgoKPiAKPiBBbnRvbgo+
IAo+INCy0YIsIDIyINC40Y7Quy4gMjAyNeKAr9CzLiDQsiAyMTo0MywgVHJvbmQgTXlrbGVidXN0
IDx0cm9uZG15QGtlcm5lbC5vcmc+Ogo+ID4gCj4gPiBPbiBUdWUsIDIwMjUtMDctMjIgYXQgMjE6
MTAgKzAzMDAsIEFudG9uIEdhdnJpbGl1ayB3cm90ZToKPiA+ID4gSGkKPiA+ID4gCj4gPiA+IEkg
YW0gdHJ5aW5nIHRvIGV4Y2VlZCAyMCBHQi9zIGRvaW5nIHNlcXVlbnRpYWwgcmVhZCBmcm9tIGEg
c2luZ2xlCj4gPiA+IGZpbGUKPiA+ID4gb24gdGhlIG5mcyBjbGllbnQuCj4gPiA+IAo+ID4gPiBw
ZXJmIHRvcCBzaG93cyBleGNlc3NpdmUgbWVtY3B5IHVzYWdlOgo+ID4gPiAKPiA+ID4gU2FtcGxl
czogMjM3SyBvZiBldmVudCAnY3ljbGVzOlAnLCA0MDAwIEh6LCBFdmVudCBjb3VudAo+ID4gPiAo
YXBwcm94Lik6Cj4gPiA+IDEyMDg3MjczOTExMiBsb3N0OiAwLzAgZHJvcDogMC8wCj4gPiA+IE92
ZXJoZWFkwqAgU2hhcmVkIE9iamVjdMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoCBTeW1ib2wKPiA+ID4gwqAgMjAsNTQlwqAgW2tlcm5lbF3CoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIFtrXSBtZW1jcHkKPiA+ID4gwqDC
oCA2LDUyJcKgIFtuZnNdwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoCBba10KPiA+ID4gbmZzX2dlbmVyaWNfcGdfdGVzdAo+ID4gPiDCoMKg
IDUsMTIlwqAgW25mc13CoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgIFtrXQo+ID4gPiBuZnNfcGFnZV9ncm91cF9sb2NrCj4gPiA+IMKgwqAg
NCw5MiXCoCBba2VybmVsXcKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqAgW2tdIF9jb3B5X3RvX2l0ZXIKPiA+ID4gwqDCoCA0LDc5JcKgIFtrZXJuZWxd
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBba10g
Z3JvX2xpc3RfcHJlcGFyZQo+ID4gPiDCoMKgIDIsNzclwqAgW25mc13CoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIFtrXQo+ID4gPiBuZnNf
Y2xlYXJfcmVxdWVzdAo+ID4gPiDCoMKgIDIsMTAlwqAgW25mc13CoMKgwqDCoMKgwqDCoMKgwqDC
oMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgIFtrXQo+ID4gPiBfX25mc19w
YWdlaW9fYWRkX3JlcXVlc3QKPiA+ID4gwqDCoCAyLDA3JcKgIFtrZXJuZWxdwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBba10KPiA+ID4gY2hlY2tf
aGVhcF9vYmplY3QKPiA+ID4gwqDCoCAyLDAwJcKgIFtrZXJuZWxdwqDCoMKgwqDCoMKgwqDCoMKg
wqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoCBba10gX19zbGFiX2ZyZWUKPiA+ID4g
Cj4gPiA+IENhbiBuZnMgY2xpZW50IGJlIGFkb3B0ZWQgdG8gdXNlIHplcm8gY29weSA/LCBmb3Ig
ZXhhbXBsZSBieQo+ID4gPiB1c2luZwo+ID4gPiBpb191cmluZyB6ZXJvIGNvcHkgcnguCj4gPiA+
IAo+ID4gCj4gPiBUaGUgY2xpZW50IGhhcyBubyBpZGVhIGluIHdoaWNoIG9yZGVyIHRoZSBzZXJ2
ZXIgd2lsbCByZXR1cm4KPiA+IHJlcGxpZXMgdG8KPiA+IHRoZSBSUEMgY2FsbHMgaXQgc2VuZHMu
IFNvIG5vLCBpdCBjYW4ndCBxdWV1ZSB1cCB0aG9zZSByZXBseQo+ID4gYnVmZmVycyBpbgo+ID4g
YWR2YW5jZS4KPiA+IAo+ID4gVGhlIG9ubHkgd2F5IHlvdSBjYW4gYXZvaWQgbWVtb3J5IGNvcGll
cyBoZXJlIGlzIHRvIHVzZSBSRE1BIHRvCj4gPiBhbGxvdwo+ID4gdGhlIHNlcnZlciB0byB3cml0
ZSBpdHMgcmVwbGllcyBkaXJlY3RseSBpbnRvIHRoZSBjb3JyZWN0IGNsaWVudAo+ID4gcmVhZAo+
ID4gYnVmZmVycy4KPiA+IAo+ID4gLS0KPiA+IFRyb25kIE15a2xlYnVzdAo+ID4gTGludXggTkZT
IGNsaWVudCBtYWludGFpbmVyLCBIYW1tZXJzcGFjZQo+ID4gdHJvbmRteUBrZXJuZWwub3JnLCB0
cm9uZC5teWtsZWJ1c3RAaGFtbWVyc3BhY2UuY29tCg==


